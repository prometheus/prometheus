{
  "ID": "tkv91uso46cck763aaqcb4rek",
  "Version": {
    "Index": 68
  },
  "CreatedAt": "2020-06-19T19:14:41.685703164Z",
  "UpdatedAt": "2020-06-19T19:14:41.696259297Z",
  "Spec": {
    "Name": "mon_caddy",
    "Labels": {
      "com.docker.stack.image": "stefanprodan/caddy",
      "com.docker.stack.namespace": "mon"
    },
    "TaskTemplate": {
      "ContainerSpec": {
        "Image": "stefanprodan/caddy:latest@sha256:44541cfacb66f4799f81f17fcfb3cb757ccc8f327592745549f5930c42d115c9",
        "Labels": {
          "com.docker.stack.namespace": "mon"
        },
        "Env": [
          "ADMIN_PASSWORD=admin",
          "ADMIN_USER=admin"
        ],
        "Privileges": {
          "CredentialSpec": null,
          "SELinuxContext": null
        },
        "Healthcheck": {
          "Test": [
            "CMD",
            "curl",
            "-f",
            "http://localhost:3000"
          ],
          "Interval": 5000000000,
          "Timeout": 1000000000,
          "Retries": 5
        },
        "Configs": [
          {
            "File": {
              "Name": "/etc/caddy/Caddyfile",
              "UID": "0",
              "GID": "0",
              "Mode": 292
            },
            "ConfigID": "pkjteflcny7cc633glg3m6ck2",
            "ConfigName": "mon_caddy_config"
          }
        ],
        "Isolation": "default"
      },
      "Resources": {
        "Limits": {
          "MemoryBytes": 134217728
        },
        "Reservations": {
          "MemoryBytes": 67108864
        }
      },
      "Placement": {
        "Constraints": [
          "node.role == manager"
        ],
        "Platforms": [
          {
            "Architecture": "amd64",
            "OS": "linux"
          }
        ]
      },
      "Networks": [
        {
          "Target": "npq2closzy836m07eaq1425k3",
          "Aliases": [
            "caddy"
          ]
        }
      ],
      "ForceUpdate": 0,
      "Runtime": "container"
    },
    "Mode": {
      "Replicated": {
        "Replicas": 1
      }
    },
    "EndpointSpec": {
      "Mode": "vip",
      "Ports": [
        {
          "Protocol": "tcp",
          "TargetPort": 9090,
          "PublishedPort": 9090,
          "PublishMode": "ingress"
        },
        {
          "Protocol": "tcp",
          "TargetPort": 9093,
          "PublishedPort": 9093,
          "PublishMode": "ingress"
        },
        {
          "Protocol": "tcp",
          "TargetPort": 9094,
          "PublishedPort": 9094,
          "PublishMode": "ingress"
        }
      ]
    }
  },
  "Endpoint": {
    "Spec": {
      "Mode": "vip",
      "Ports": [
        {
          "Protocol": "tcp",
          "TargetPort": 9090,
          "PublishedPort": 9090,
          "PublishMode": "ingress"
        },
        {
          "Protocol": "tcp",
          "TargetPort": 9093,
          "PublishedPort": 9093,
          "PublishMode": "ingress"
        },
        {
          "Protocol": "tcp",
          "TargetPort": 9094,
          "PublishedPort": 9094,
          "PublishMode": "ingress"
        }
      ]
    },
    "Ports": [
      {
        "Protocol": "tcp",
        "TargetPort": 9090,
        "PublishedPort": 9090,
        "PublishMode": "ingress"
      },
      {
        "Protocol": "tcp",
        "TargetPort": 9093,
        "PublishedPort": 9093,
        "PublishMode": "ingress"
      },
      {
        "Protocol": "tcp",
        "TargetPort": 9094,
        "PublishedPort": 9094,
        "PublishMode": "ingress"
      }
    ],
    "VirtualIPs": [
      {
        "NetworkID": "qvwhwd6p61k4o0ulsknqb066z",
        "Addr": "10.0.0.13/24"
      },
      {
        "NetworkID": "npq2closzy836m07eaq1425k3",
        "Addr": "10.0.1.15/24"
      }
    ]
  }
}
