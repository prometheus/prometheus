--- lib/lz4frame.h
+++ lib/lz4frame_patched.h
@@ -74,7 +74,7 @@ extern "C" {
 #elif defined(LZ4_DLL_IMPORT) && (LZ4_DLL_IMPORT==1)
 #  define LZ4FLIB_API __declspec(dllimport)
 #elif defined(__GNUC__) && (__GNUC__ >= 4)
-#  define LZ4FLIB_API __attribute__ ((__visibility__ ("default")))
+#  define LZ4FLIB_API
 #else
 #  define LZ4FLIB_API
 #endif

--- lib/lz4frame.h
+++ lib/lz4frame.h
@@ -467,7 +467,7 @@ LZ4FLIB_API size_t LZ4F_decompress(LZ4F_dctx* dctx,
  *  and start a new one using same context resources. */
 LZ4FLIB_API void LZ4F_resetDecompressionContext(LZ4F_dctx* dctx);   /* always successful */

-
+size_t LZ4F_allocated_memory(LZ4F_dctx* dctx);

 #if defined (__cplusplus)
 }
